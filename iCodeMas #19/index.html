<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <style>
      h1 {
        font-size: 1.2rem;
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>iCodeMas #19</title>
  </head>
  <body class="w-screen h-screen flex items-center justify-center bg-[#415e66]">
    <div class="w-10/12 max-w-xs h-fit bg-white rounded-xl p-2 px-4">
      <div class="w-full flex items-center justify-end">
        <span class="material-symbols-outlined"> close </span>
      </div>
      <form>
        <h1>Contact Info</h1>
        <label class="text-xs">Email <span class="text-red-500">*</span></label>
        <input
          type="email"
          class="border border-[#dfe0e2] w-full active:bg-[#f9fbfc] focus:outline-none placeholder:text-xs p-1"
          placeholder="Enter your email"
        />
        <h1 class="mt-5">Shipping Info</h1>
        <label class="text-xs">Name <span class="text-red-500">*</span></label>
        <input
          type="text"
          class="border border-[#dfe0e2] w-full active:bg-[#f9fbfc] focus:outline-none placeholder:text-xs p-1"
          placeholder="Enter name"
        />
        <label class="text-xs"
          >Country/Region <span class="text-red-500">*</span></label
        >
        <input
          type="text"
          class="border border-[#dfe0e2] w-full active:bg-[#f9fbfc] focus:outline-none placeholder:text-xs p-1"
          placeholder="Enter name"
        />
        <label class="text-xs"
          >Address<span class="text-red-500">*</span></label
        >
        <input
          type="text"
          class="border border-[#dfe0e2] w-full active:bg-[#f9fbfc] focus:outline-none placeholder:text-xs p-1"
          placeholder="Enter address"
        />
        <h1 class="mt-5">Payment info</h1>
        <div class="grid grid-cols-3 gap-2">
          <div class="w-20 border p-2 bg-[#fdfdfd]" id="card">
            <img
              src="https://static.vecteezy.com/system/resources/previews/022/362/620/non_2x/3d-payment-money-dollar-credit-card-png.png"
              alt=""
              class="w-1/3 h-auto object-contain"
            />
            <p class="text-slate-800 text-[8px]">Card</p>
          </div>
          <div class="w-20 border p-2 bg-[#fdfdfd]" id="cash">
            <img
              src="https://static.vecteezy.com/system/resources/previews/009/350/800/non_2x/finance-cash-money-png.png"
              alt=""
              class="w-1/3 h-auto object-contain"
            />
            <p class="text-slate-800 text-[8px]">Cash at arrival</p>
          </div>
          <div class="w-20 border p-2 bg-[#fdfdfd]" id="pay_pal">
            <img
              src="https://static.vecteezy.com/system/resources/previews/019/909/644/large_2x/paypal-transparent-paypal-free-free-png.png"
              alt=""
              class="w-1/3 h-auto object-contain"
            />
            <p class="text-slate-800 text-[8px]">Paypal</p>
          </div>
        </div>
        <label class="text-xs"
          >Card Number<span class="text-red-500">*</span></label
        >
        <div class="relative">
          <input
            type="text"
            id="card-number"
            class="border border-[#dfe0e2] w-full active:bg-[#f9fbfc] focus:outline-none placeholder:text-xs p-1"
            placeholder="**** **** **** ****"
            maxlength="19"
          />
          <img
            src="https://cdn-icons-png.flaticon.com/512/4021/4021708.png"
            alt="Card Type Icon"
            class="absolute top-1/2 right-[10px] transform -translate-y-1/2 w-[30px] h-[30px]"
            id="card-type-icon"
          />
        </div>
        <div class="w-full flex gap-4 h-fit mt-4">
          <div class="w-full h-full flex-1">
            <label class="text-xs"
              >Expiry Date<span class="text-red-500">*</span></label
            >
            <input
              type="number"
              class="border border-[#dfe0e2] w-full active:bg-[#f9fbfc] focus:outline-none placeholder:text-xs p-1"
              placeholder="MM/YY"
              maxlength="5"
            />
          </div>
          <div class="w-full h-full flex-1">
            <label class="text-xs"
              >CVC<span class="text-red-500">*</span></label
            >
            <input
              type="number"
              class="border border-[#dfe0e2] w-full active:bg-[#f9fbfc] focus:outline-none placeholder:text-xs p-1"
              placeholder="123"
              maxlength="3"
            />
          </div>
        </div>
        <button
          class="w-fit p-3 rounded-3xl bg-[#237393] text-white text-[10px] mt-4"
        >
          Place Order
        </button>
      </form>
    </div>

    <script>
      const payment_methods = ["card", "cash", "pay_pal"];

      payment_methods.forEach((method) => {
        document.getElementById(method).addEventListener("click", () => {
          payment_methods.forEach((method) => {
            document
              .getElementById(method)
              .classList.remove("border-[#bad7e5]");
          });
          document.getElementById(method).classList.add("border-[#bad7e5]");
        });
      });

      const cardNumberInput = document.getElementById("card-number");
      const cardTypeIcon = document.getElementById("card-type-icon");

      cardNumberInput.addEventListener("input", formatCardNumber);
      cardNumberInput.addEventListener("input", detectCardType);

      function formatCardNumber() {
        let cardNumber = cardNumberInput.value.replace(/\s/g, "");
        cardNumber = cardNumber.replace(/(\d{4})/g, "$1 ").trim();
        cardNumberInput.value = cardNumber;
      }

      function detectCardType() {
        const cardNumber = cardNumberInput.value.replace(/\s/g, "");
        let cardType =
          "https://cdn-icons-png.flaticon.com/512/4021/4021708.png";

        if (/^4/.test(cardNumber)) {
          cardType = "https://cdn-icons-png.flaticon.com/512/349/349221.png";
        } else if (/^5[1-5]/.test(cardNumber)) {
          cardType =
            "https://cdn-icons-png.flaticon.com/512/11895/11895093.png";
        } else if (/^3[47]/.test(cardNumber)) {
          cardType = "https://cdn-icons-png.flaticon.com/512/179/179431.png";
        }

        cardTypeIcon.src = `${cardType}`;
      }
    </script>
  </body>
</html>
